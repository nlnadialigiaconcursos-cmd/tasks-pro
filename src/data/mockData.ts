import { Task, User, ActivityLog, Notification, TaskStatus, TaskPriority } from '@/types';

// Mock Users
export const mockUsers: User[] = [
  {
    id: '1',
    email: 'admin@taskmanager.com',
    name: 'Ana Silva',
    role: 'owner',
    createdAt: new Date('2024-01-01'),
  },
  {
    id: '2',
    email: 'carlos@taskmanager.com',
    name: 'Carlos Santos',
    role: 'editor',
    createdAt: new Date('2024-01-15'),
  },
  {
    id: '3',
    email: 'maria@taskmanager.com',
    name: 'Maria Oliveira',
    role: 'viewer',
    createdAt: new Date('2024-02-01'),
  },
  {
    id: '4',
    email: 'pedro@taskmanager.com',
    name: 'Pedro Costa',
    role: 'editor',
    createdAt: new Date('2024-02-10'),
  },
];

// Mock Tasks
export const mockTasks: Task[] = [
  {
    id: '1',
    title: 'Implementar autenticação JWT',
    description: 'Configurar sistema de autenticação com tokens JWT e refresh tokens',
    status: 'done',
    priority: 'high',
    assignee: mockUsers[0],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-02-15'),
    createdAt: new Date('2024-01-10'),
    updatedAt: new Date('2024-02-14'),
    attachments: [],
    tags: ['backend', 'segurança'],
  },
  {
    id: '2',
    title: 'Criar tela de dashboard',
    description: 'Desenvolver interface principal com métricas e gráficos',
    status: 'in_progress',
    priority: 'high',
    assignee: mockUsers[1],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-02-20'),
    createdAt: new Date('2024-01-15'),
    updatedAt: new Date('2024-02-10'),
    attachments: [],
    tags: ['frontend', 'ui/ux'],
  },
  {
    id: '3',
    title: 'Configurar banco de dados PostgreSQL',
    description: 'Setup inicial do PostgreSQL com Prisma ORM',
    status: 'done',
    priority: 'urgent',
    assignee: mockUsers[0],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-01-20'),
    createdAt: new Date('2024-01-05'),
    updatedAt: new Date('2024-01-19'),
    attachments: [],
    tags: ['backend', 'database'],
  },
  {
    id: '4',
    title: 'Implementar sistema de notificações',
    description: 'Criar sistema de notificações em tempo real com WebSockets',
    status: 'todo',
    priority: 'medium',
    assignee: mockUsers[3],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-03-01'),
    createdAt: new Date('2024-02-01'),
    updatedAt: new Date('2024-02-01'),
    attachments: [],
    tags: ['backend', 'realtime'],
  },
  {
    id: '5',
    title: 'Revisar documentação da API',
    description: 'Atualizar Swagger docs com novos endpoints',
    status: 'review',
    priority: 'low',
    assignee: mockUsers[2],
    createdBy: mockUsers[1],
    projectId: '1',
    dueDate: new Date('2024-02-25'),
    createdAt: new Date('2024-02-05'),
    updatedAt: new Date('2024-02-12'),
    attachments: [],
    tags: ['documentação'],
  },
  {
    id: '6',
    title: 'Testes unitários do módulo de usuários',
    description: 'Escrever testes com Jest para CRUD de usuários',
    status: 'in_progress',
    priority: 'medium',
    assignee: mockUsers[1],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-02-22'),
    createdAt: new Date('2024-02-08'),
    updatedAt: new Date('2024-02-15'),
    attachments: [],
    tags: ['testes', 'qualidade'],
  },
  {
    id: '7',
    title: 'Otimização de performance',
    description: 'Analisar e melhorar tempo de carregamento das páginas',
    status: 'todo',
    priority: 'high',
    assignee: undefined,
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-03-10'),
    createdAt: new Date('2024-02-10'),
    updatedAt: new Date('2024-02-10'),
    attachments: [],
    tags: ['performance', 'frontend'],
  },
  {
    id: '8',
    title: 'Configurar CI/CD pipeline',
    description: 'Setup do GitHub Actions para deploy automático',
    status: 'done',
    priority: 'high',
    assignee: mockUsers[0],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-01-25'),
    createdAt: new Date('2024-01-12'),
    updatedAt: new Date('2024-01-24'),
    attachments: [],
    tags: ['devops', 'automação'],
  },
  {
    id: '9',
    title: 'Implementar soft delete',
    description: 'Adicionar funcionalidade de exclusão lógica em todas as entidades',
    status: 'todo',
    priority: 'medium',
    assignee: mockUsers[3],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-03-05'),
    createdAt: new Date('2024-02-12'),
    updatedAt: new Date('2024-02-12'),
    attachments: [],
    tags: ['backend', 'database'],
  },
  {
    id: '10',
    title: 'Sistema de upload de arquivos',
    description: 'Implementar upload com S3 e preview de imagens',
    status: 'review',
    priority: 'high',
    assignee: mockUsers[1],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-02-28'),
    createdAt: new Date('2024-02-03'),
    updatedAt: new Date('2024-02-18'),
    attachments: [],
    tags: ['backend', 'storage'],
  },
  {
    id: '11',
    title: 'Migração para TypeScript strict mode',
    description: 'Habilitar strict mode e corrigir erros de tipo',
    status: 'in_progress',
    priority: 'low',
    assignee: mockUsers[3],
    createdBy: mockUsers[1],
    projectId: '1',
    createdAt: new Date('2024-02-14'),
    updatedAt: new Date('2024-02-16'),
    attachments: [],
    tags: ['refatoração', 'typescript'],
  },
  {
    id: '12',
    title: 'Implementar filtros avançados',
    description: 'Criar sistema de filtros com múltiplos critérios e busca full-text',
    status: 'todo',
    priority: 'urgent',
    assignee: mockUsers[1],
    createdBy: mockUsers[0],
    projectId: '1',
    dueDate: new Date('2024-02-26'),
    createdAt: new Date('2024-02-15'),
    updatedAt: new Date('2024-02-15'),
    attachments: [],
    tags: ['frontend', 'ux'],
  },
];

// Mock Activity Logs
export const mockActivityLogs: ActivityLog[] = [
  {
    id: '1',
    action: 'task_created',
    taskId: '12',
    taskTitle: 'Implementar filtros avançados',
    user: mockUsers[0],
    details: 'Criou a tarefa "Implementar filtros avançados"',
    timestamp: new Date('2024-02-15T14:30:00'),
  },
  {
    id: '2',
    action: 'status_changed',
    taskId: '2',
    taskTitle: 'Criar tela de dashboard',
    user: mockUsers[1],
    details: 'Alterou status de "todo" para "in_progress"',
    timestamp: new Date('2024-02-15T10:15:00'),
  },
  {
    id: '3',
    action: 'assignee_changed',
    taskId: '11',
    taskTitle: 'Migração para TypeScript strict mode',
    user: mockUsers[0],
    details: 'Atribuiu a tarefa para Pedro Costa',
    timestamp: new Date('2024-02-14T16:45:00'),
  },
  {
    id: '4',
    action: 'task_updated',
    taskId: '10',
    taskTitle: 'Sistema de upload de arquivos',
    user: mockUsers[1],
    details: 'Atualizou descrição e prazo',
    timestamp: new Date('2024-02-14T11:20:00'),
  },
  {
    id: '5',
    action: 'comment_added',
    taskId: '6',
    taskTitle: 'Testes unitários do módulo de usuários',
    user: mockUsers[2],
    details: 'Adicionou um comentário',
    timestamp: new Date('2024-02-13T15:30:00'),
  },
  {
    id: '6',
    action: 'attachment_added',
    taskId: '5',
    taskTitle: 'Revisar documentação da API',
    user: mockUsers[2],
    details: 'Anexou "api-docs-v2.pdf"',
    timestamp: new Date('2024-02-12T09:00:00'),
  },
  {
    id: '7',
    action: 'status_changed',
    taskId: '1',
    taskTitle: 'Implementar autenticação JWT',
    user: mockUsers[0],
    details: 'Alterou status de "review" para "done"',
    timestamp: new Date('2024-02-14T17:00:00'),
  },
  {
    id: '8',
    action: 'member_added',
    user: mockUsers[0],
    details: 'Adicionou Pedro Costa ao projeto',
    timestamp: new Date('2024-02-10T08:30:00'),
  },
];

// Mock Notifications
export const mockNotifications: Notification[] = [
  {
    id: '1',
    type: 'task_assigned',
    title: 'Nova tarefa atribuída',
    message: 'Você foi atribuído à tarefa "Implementar filtros avançados"',
    read: false,
    taskId: '12',
    createdAt: new Date('2024-02-15T14:30:00'),
  },
  {
    id: '2',
    type: 'due_date_reminder',
    title: 'Prazo se aproximando',
    message: 'A tarefa "Criar tela de dashboard" vence em 2 dias',
    read: false,
    taskId: '2',
    createdAt: new Date('2024-02-18T09:00:00'),
  },
  {
    id: '3',
    type: 'task_updated',
    title: 'Tarefa atualizada',
    message: 'Carlos Santos atualizou a tarefa "Sistema de upload de arquivos"',
    read: true,
    taskId: '10',
    createdAt: new Date('2024-02-14T11:20:00'),
  },
  {
    id: '4',
    type: 'comment_mention',
    title: 'Você foi mencionado',
    message: 'Maria Oliveira mencionou você em um comentário',
    read: true,
    taskId: '6',
    createdAt: new Date('2024-02-13T15:30:00'),
  },
  {
    id: '5',
    type: 'task_completed',
    title: 'Tarefa concluída',
    message: 'A tarefa "Implementar autenticação JWT" foi concluída',
    read: true,
    taskId: '1',
    createdAt: new Date('2024-02-14T17:00:00'),
  },
];

// Stats
export const getTaskStats = () => {
  const total = mockTasks.length;
  const byStatus: Record<TaskStatus, number> = {
    todo: mockTasks.filter(t => t.status === 'todo').length,
    in_progress: mockTasks.filter(t => t.status === 'in_progress').length,
    review: mockTasks.filter(t => t.status === 'review').length,
    done: mockTasks.filter(t => t.status === 'done').length,
  };
  const byPriority: Record<TaskPriority, number> = {
    low: mockTasks.filter(t => t.priority === 'low').length,
    medium: mockTasks.filter(t => t.priority === 'medium').length,
    high: mockTasks.filter(t => t.priority === 'high').length,
    urgent: mockTasks.filter(t => t.priority === 'urgent').length,
  };
  const overdue = mockTasks.filter(t => t.dueDate && t.dueDate < new Date() && t.status !== 'done').length;
  
  return { total, byStatus, byPriority, overdue };
};
